title = "Blog"
url = "/blog-list/:page?"
layout = "default"
is_hidden = 0
enabled_in_sitemap = 0
use_updated_at = 0
changefreq = "always"
priority = 0.1

[slideshows]
sstheme = "artsite"

[blogPosts]
pageNumber = "{{ :page }}"
postsPerPage = 10
noPostsMessage = "No posts found"
sortOrder = "published_at desc"
postPage = "blog/post"
==

<div class="container-fluid background_color blog border-bottom p-0 pb-5">
    <div class="row">
        <div class="container px-5 px-md-3">
            <div class="row">
                <!-- Title -->
                {% partial 'general/title' title = 'Blog' %}
            </div>
            <div class="row">
                {% for post in posts %}
                <div class="col-md-12 mt-5">
                    <div class="row">
                        <div class="col-md-6 mb-3 mb-md-0">
                            <a href="{{ post.featured_images[0].path|resize(auto, auto, { mode: 'crop', quality: '80', extension: 'webp' }) }}"
                               class="progressive replace"
                            >
                                <img class="preview" alt="{{ post.title }}"
                                     src="{{ post.featured_images[0].path|resize(auto, auto, { mode: 'crop', quality: '80', extension: 'webp' }) }}"
                                >
                            </a>
                        </div>
                        <div class="col-md-6">
                            <a href="{{'blog-page'|page({slug: post.slug})}}">
                                <h3>
                                    {{post.title}}
                                </h3>
                                <p class="excerpt">{{ post.content_html|raw }}</p>
                            </a>
                            <span>{{ post.published_at|date('M d, Y') }}</span>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>

            <!-- Pagination -->
            <div class="row">
                {% if posts.lastPage > 1 %}
                    <nav class="col-12 d-flex justify-content-center my-5">
                        <ul class="pagination">
                            {% if posts.currentPage > 1 %}
                            <li class="page-item">
                                <a class="page-link"
                                href="{{ this.page.baseFileName|page({ (pageParam): (posts.currentPage-1) }) }}"
                                aria-label="Previous">
                                    <i class="fa-solid fa-angle-left"></i>
                                </a>
                            </li>
                            {% endif %}
                    
                            {% for page in 1..posts.lastPage %}
                                {% if posts.currentPage == page %}
                                    <li class="page-item active">
                                        <span class="page-link">
                                            {{ page }}
                                        </span>
                                    </li>
                                {% else %}
                                    <li class="page-item">
                                        <a class="page-link" href="{{ this.page.baseFileName|page({ (pageParam): page }) }}">
                                            {{ page }}
                                        </a>
                                    </li>
                                {% endif %}
                            {% endfor %}
                    
                            {% if posts.lastPage > posts.currentPage %}
                            <li class="page-item">
                                <a class="page-link"
                                href="{{ this.page.baseFileName|page({ (pageParam): (posts.currentPage+1) }) }}"
                                aria-label="Next">
                                    <i class="fa-solid fa-angle-right"></i>
                                </a>
                            </li>
                            {% endif %}
                        </ul>
                    </nav>
                {% endif %}
            </div>
        </div>
    </div>
</div>